!function(e){if(e(".meal-item__add-to-cart button").click(function(t){t.preventDefault();var o=e(this),a=o.val(),c=e(this).closest(".meal-item__add-to-cart").find(".meal-item-quantity .input-quantity").val();/^[0-9]+$/.test(c)||(e(this).closest(".meal-item__add-to-cart").find(".error-message").addClass("show"),e(".grid").isotope(),setTimeout(()=>{e(this).closest(".meal-item__add-to-cart").find(".error-message").removeClass("show"),e(".grid").isotope()},3e3));var n={id:a,quantity:c};o.addClass("loading"),e.post(meal_prep.mp_ajax_url.add_to_cart,n,function(t){e.each(t.fragments,function(t,o){e(t).html(o)})}).done(function(){o.removeClass("loading")})}),e(".meal-item__mini-cart").length>0){e.post(meal_prep.mp_ajax_url.get_refreshed_fragments,{},function(t){e.each(t.fragments,function(t,o){e(t).html(o)})})}e(document).on("click",".meal-item_clear-cart",function(t){t.preventDefault();e.post(meal_prep.mp_ajax_url.clear_cart,{},function(t){e.each(t.fragments,function(t,o){e(t).html(o)})})})}(jQuery),function(e){if(e("#cart-content").length>0){e.post(meal_prep.mp_ajax_url.cart_content,{},function(t){e("#cart-content").html(t.html)})}}(jQuery),function(e){if(e("#checkout-order-detail").length>0){e.post(meal_prep.mp_ajax_url.checkout_order_detail,{},function(t){e("#checkout-order-detail").html(t.html),e(".checkout-page [name=payment_method]").first().prop("checked",!0).change()})}e(document).on("submit","#checkout-content",function(t){t.preventDefault();var o=e(this).serialize();e.post(meal_prep.mp_ajax_url.checkout,o,function(t){"failure"==t.result?(e("#checkout-content .checkout-errors").remove(),e("#checkout-content").prepend('<div class="checkout-errors col-12">'+t.messages+"</div>"),e("html, body").animate({scrollTop:e("#checkout-content .checkout-errors").offset().top},1e3)):(console.log(t),t.reload&&(window.location.href=t.messages))})}),e(document).ready(()=>{e(".billing_country").dropdown({clearable:!0,match:"text",placeholder:"Select country ..."})}),e(".checkout-page").on("change","[name=payment_method]",function(t){var o=e(this);e(".checkout-page .payment-description").each(function(){e(this).hide()}),o.closest("li").find(".payment-description").show()})}(jQuery);
